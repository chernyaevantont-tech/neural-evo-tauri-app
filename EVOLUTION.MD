# –£–ª—É—á—à–µ–Ω–∏—è –∫—Ä–æ—Å—Å–∏–Ω–≥–æ–≤–µ—Ä–∞ –≥—Ä–∞—Ñ–æ–≤ –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–π –≤ –ø—Ä–æ–µ–∫—Ç–µ, –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—É—á–Ω—ã—Ö —Ä–∞–±–æ—Ç –ø–æ Neural Architecture Search (NAS) –∏ –Ω–µ–π—Ä–æ—ç–≤–æ–ª—é—Ü–∏–∏.

---

## 1. –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –¢–µ–∫—É—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º (`Genome.Breed`)

```mermaid
flowchart TD
    A["–†–æ–¥–∏—Ç–µ–ª—å-–¥–æ–Ω–æ—Ä"] -->|"GetRandomSubgenome()"| B["–õ–∏–Ω–µ–π–Ω—ã–π –ø–æ–¥–≥—Ä–∞—Ñ"]
    C["–†–æ–¥–∏—Ç–µ–ª—å-–ø–æ–ª—É—á–∞—Ç–µ–ª—å"] -->|"FindInsertionPoint()"| D["–†–µ–±—Ä–æ –¥–ª—è —Ä–∞–∑—Ä—ã–≤–∞"]
    B --> E["–°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤"]
    D --> E
    E --> F["–í—Å—Ç–∞–≤–∫–∞ –ø–æ–¥–≥—Ä–∞—Ñ–∞ –≤ —Ä–∞–∑—Ä—ã–≤"]
    F --> G["–ù–æ–≤—ã–π –ø–æ—Ç–æ–º–æ–∫"]
```

**–®–∞–≥–∏:**
1. –ò–∑ –≥–µ–Ω–æ–º–∞-–¥–æ–Ω–æ—Ä–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–π **–ª–∏–Ω–µ–π–Ω—ã–π** –ø–æ–¥–≥—Ä–∞—Ñ (—Ü–µ–ø–æ—á–∫–∞ —É–∑–ª–æ–≤ —Å 1 –≤—Ö–æ–¥–æ–º –∏ 1 –≤—ã—Ö–æ–¥–æ–º)
2. –í –≥–µ–Ω–æ–º–µ-–ø–æ–ª—É—á–∞—Ç–µ–ª–µ –∏—â–µ—Ç—Å—è —Ä–µ–±—Ä–æ, –∫—É–¥–∞ –ø–æ–¥–≥—Ä–∞—Ñ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å
3. –ü—Ä–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ñ–æ—Ä–º —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–¥–∞–ø—Ç–µ—Ä—ã (Pooling, Conv 1√ó1, Flatten, Dense)
4. –ì—Ä–∞—Ñ-–ø–æ–ª—É—á–∞—Ç–µ–ª—å –∫–ª–æ–Ω–∏—Ä—É–µ—Ç—Å—è, —Ä–µ–±—Ä–æ —Ä–∞–∑—Ä–µ–∑–∞–µ—Ç—Å—è, –ø–æ–¥–≥—Ä–∞—Ñ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---------|-------------|----------|
| 1 | **–ù–µ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π —Ä–æ—Å—Ç –≥—Ä–∞—Ñ–∞** | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | –ö–∞–∂–¥–æ–µ —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç —É–∑–ª—ã. –ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ —É–¥–∞–ª–µ–Ω–∏—è, –∑–∞–º–µ–Ω—ã –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞. –ü–æ—Å–ª–µ N –ø–æ–∫–æ–ª–µ–Ω–∏–π –≥—Ä–∞—Ñ —Ä–∞–∑—Ä–∞—Å—Ç–∞–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ (–ø—Ä–æ–±–ª–µ–º–∞ *bloat* –∏–∑ –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è) |
| 2 | **–¢–æ–ª—å–∫–æ –ª–∏–Ω–µ–π–Ω—ã–µ –ø–æ–¥–≥—Ä–∞—Ñ—ã** | üü° –í–∞–∂–Ω–æ | `_getRandomSubgenome()` –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ —É–∑–ª—ã —Å `previous.length === 1 && next.length === 1`. –í–µ—Ç–≤–ª–µ–Ω–∏—è, skip-connections –∏ merge-—É–∑–ª—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è |
| 3 | **–ê–¥–∞–ø—Ç–µ—Ä—ã —Ä–∞–∑–¥—É–≤–∞—é—Ç –≥—Ä–∞—Ñ** | üü° –í–∞–∂–Ω–æ | –ö–∞–∂–¥–∞—è –≤—Å—Ç–∞–≤–∫–∞ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å 1‚Äì3 –∞–¥–∞–ø—Ç–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ —Å–∞–º–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è |
| 4 | **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –º—É—Ç–∞—Ü–∏–π** | üü° –í–∞–∂–Ω–æ | –ú–µ—Ç–æ–¥ `Mutate` –≤ —É–∑–ª–∞—Ö –º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (units, kernel, activation), –Ω–æ –Ω–µ —Ç–æ–ø–æ–ª–æ–≥–∏—é |
| 5 | **–ù–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º–∞ speciation** | üü¢ –£–ª—É—á—à–µ–Ω–∏–µ | –í—Å–µ –≥–µ–Ω–æ–º—ã –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—Ç –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ—Ç–µ—Ä–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è |

---

## 2. –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–æ—Å—Ç–∞ –≥—Ä–∞—Ñ–∞ (Bloat Control)

### 2.1 Parsimony Pressure (–¥–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç—É)

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *K. Stanley & R. Miikkulainen, "Evolving Neural Networks through Augmenting Topologies" (NEAT), 2002*

–î–æ–±–∞–≤–ª—è–µ—Ç—Å—è —à—Ç—Ä–∞—Ñ –∫ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–Ω–æ—Å—Ç–∏ (fitness), –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

```
adjusted_fitness = raw_fitness - Œ± √ó complexity_metric
```

**–ú–µ—Ç—Ä–∏–∫–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤ –≤ –≥—Ä–∞—Ñ–µ
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—É—á–∞–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—á–µ—Ä–µ–∑ `GetResources().flash`)
- –°—É–º–º–∞—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ MACs (—á–µ—Ä–µ–∑ `GetResources().macs`)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—ë–±–µ—Ä (—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ú—è–≥–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å: –Ω–µ –∑–∞–ø—Ä–µ—â–∞–µ—Ç —Ä–æ—Å—Ç, –∞ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –Ω–µ–≤—ã–≥–æ–¥–Ω—ã–º
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –µ—Å–ª–∏ –æ–Ω–∏ –¥–∞—é—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç —Ç–æ—á–Ω–æ—Å—Ç–∏

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```typescript
// –í —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–∏—Ç–Ω–µ—Å–∞
const nodeCount = getAllNodes(genome).length;
const totalMacs = getAllNodes(genome).reduce((sum, n) => sum + n.GetResources(4).macs, 0);
const adjustedFitness = accuracy - alpha * nodeCount - beta * (totalMacs / maxMacs);
```

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è Œ±:** 0.001‚Äì0.01 (–ø–æ–¥–±–∏—Ä–∞–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ)

---

### 2.2 –ñ—ë—Å—Ç–∫–∏–π –ª–∏–º–∏—Ç –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∑–ª–æ–≤

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *E. Real et al., "Regularized Evolution for Image Classifier Architecture Search" (AmoebaNet), 2019*

–ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø–æ–¥—Ö–æ–¥: –∑–∞–¥–∞—Ç—å `MAX_NODES` –∏ –æ—Ç–∫–ª–æ–Ω—è—Ç—å –º—É—Ç–∞—Ü–∏–∏/—Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–≤—ã—à–∞—é—Ç –ª–∏–º–∏—Ç.

```typescript
const MAX_NODES = 30;

public Breed(genome: Genome): ... | null {
    const currentNodeCount = this.getAllNodesCount();
    const subgenome = genome.GetRandomSubgenome();
    const adapterCount = /* estimated adapters */;
    
    if (currentNodeCount + subgenome.length + adapterCount > MAX_NODES) {
        return null; // –û—Ç–∫–ª–æ–Ω—è–µ–º —Å–ª–∏—à–∫–æ–º –∫—Ä—É–ø–Ω—ã—Ö –ø–æ—Ç–æ–º–∫–æ–≤
    }
    // ... existing logic
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å  
**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –ñ—ë—Å—Ç–∫–∏–π –ø–æ—Ä–æ–≥ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∏–º

---

### 2.3 –£–¥–∞–ª—è—é—â–∏–µ –º—É—Ç–∞—Ü–∏–∏

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *K. Stanley, "Efficient Evolution of Neural Networks through Complexification", PhD thesis, 2004*

–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –¥–æ–±–∞–≤–ª—è—é—â–∏–º–∏ –∏ —É–¥–∞–ª—è—é—â–∏–º–∏ –º—É—Ç–∞—Ü–∏—è–º–∏:

| –ú—É—Ç–∞—Ü–∏—è | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|------------|----------|
| `add_node` | 0.03 | –†–∞–∑—Ä–µ–∑–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ —Ä–µ–±—Ä–æ, –≤—Å—Ç–∞–≤–∏—Ç—å —É–∑–µ–ª |
| `remove_node` | 0.02 | –£–¥–∞–ª–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π —É–∑–µ–ª (1 –≤—Ö–æ–¥, 1 –≤—ã—Ö–æ–¥), –∑–∞–º–∫–Ω—É–≤ —Ä–µ–±—Ä–æ |
| `add_connection` | 0.05 | –î–æ–±–∞–≤–∏—Ç—å skip-connection |
| `remove_connection` | 0.05 | –£–¥–∞–ª–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ —Ä–µ–±—Ä–æ |
| `mutate_params` | 0.80 | –ú—É—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —É–∑–ª–æ–≤ |

**–£–¥–∞–ª–µ–Ω–∏–µ —É–∑–ª–∞:**
```mermaid
flowchart LR
    A --> B["–£–¥–∞–ª—è–µ–º—ã–π —É–∑–µ–ª"] --> C
    A -.->|"–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è + –∞–¥–∞–ø—Ç–µ—Ä"| C
```

```typescript
public MutateRemoveNode(): void {
    const candidates = this.getAllNodes()
        .filter(n => n.previous.length === 1 && n.next.length === 1);
    
    if (candidates.length === 0) return;
    
    const toRemove = candidates[Math.floor(Math.random() * candidates.length)];
    const prev = toRemove.previous[0];
    const next = toRemove.next[0];
    
    prev.RemoveNext(toRemove);
    
    // –ü–æ–ø—ã—Ç–∫–∞ –Ω–∞–ø—Ä—è–º—É—é —Å–æ–µ–¥–∏–Ω–∏—Ç—å
    if (prev.CheckCompability(next)) {
        prev.AddNext(next);
    } else {
        // –°–æ–∑–¥–∞—ë–º –∞–¥–∞–ø—Ç–µ—Ä
        const adapter = this.createAdapter(prev.GetOutputShape(), next.GetInputShape());
        if (adapter) {
            prev.AddNext(adapter[0]);
            for (let i = 1; i < adapter.length; i++) {
                adapter[i-1].AddNext(adapter[i]);
            }
            adapter[adapter.length - 1].AddNext(next);
        }
    }
}
```

---

### 2.4 Resource-Aware Fitness

–í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ —É–∂–µ –≤—ã—á–∏—Å–ª—è–µ—Ç `GetResources()` (flash, RAM, MACs) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞. –≠—Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

```typescript
const totalResources = nodes.reduce((acc, n) => ({
    flash: acc.flash + n.GetResources(4).flash,
    ram: acc.ram + n.GetResources(4).ram,
    macs: acc.macs + n.GetResources(4).macs,
}), { flash: 0, ram: 0, macs: 0 });

// Multi-objective: Pareto-–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ—Å—Ç—å
// –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–æ–º–∏–Ω–∏—Ä—É–µ—Ç –¥—Ä—É–≥—É—é, –µ—Å–ª–∏ –æ–Ω–∞ –ª—É—á—à–µ –ø–æ –í–°–ï–ú –∫—Ä–∏—Ç–µ—Ä–∏—è–º
const fitness = {
    accuracy: trainResult.accuracy,
    efficiency: 1.0 / totalResources.macs,
    size: 1.0 / totalResources.flash,
};
```

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *T. Elsken, J.H. Metzen, F. Hutter, "Efficient Multi-Objective Neural Architecture Search via Lamarckian Evolution", ICLR 2019*

---

## 3. –£–ª—É—á—à–µ–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏—è

### 3.1 Subgraph Replacement (–∑–∞–º–µ–Ω–∞ –≤–º–µ—Å—Ç–æ –≤—Å—Ç–∞–≤–∫–∏)

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *L. Xie & A. Yuille, "Genetic CNN", ICCV 2017*

–í–º–µ—Å—Ç–æ **–≤—Å—Ç–∞–≤–∫–∏** –ø–æ–¥–≥—Ä–∞—Ñ–∞ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏ ‚Äî **–∑–∞–º–µ–Ω–∞** —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–¥–≥—Ä–∞—Ñ–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º:

```mermaid
flowchart TD
    subgraph "–†–æ–¥–∏—Ç–µ–ª—å A"
        A1["Input"] --> A2["Conv"] --> A3["Pool"] --> A4["Dense"] --> A5["Output"]
    end
    
    subgraph "–†–æ–¥–∏—Ç–µ–ª—å B"
        B1["Input"] --> B2["Conv"] --> B3["Conv"] --> B4["Dense"] --> B5["Output"]
    end
    
    subgraph "–ü–æ—Ç–æ–º–æ–∫"
        C1["Input"] --> C2["Conv(A)"] --> C3["Conv(B)"] --> C4["Conv(B)"] --> C5["Dense(A)"] --> C6["Output"]
    end
```

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ò–∑–≤–ª–µ—á—å –ø–æ–¥–≥—Ä–∞—Ñ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—è A (—É–¥–∞–ª—è–µ–º—ã–π —Å–µ–≥–º–µ–Ω—Ç)
2. –ò–∑–≤–ª–µ—á—å –ø–æ–¥–≥—Ä–∞—Ñ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—è B (–∑–∞–º–µ–Ω—è—é—â–∏–π —Å–µ–≥–º–µ–Ω—Ç)
3. –ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥–≥—Ä–∞—Ñ A –Ω–∞ –ø–æ–¥–≥—Ä–∞—Ñ B (—Å –∞–¥–∞–ø—Ç–µ—Ä–∞–º–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–∞–∑–º–µ—Ä –≥—Ä–∞—Ñ–∞ –æ—Å—Ç–∞—ë—Ç—Å—è **—Å—Ç–∞–±–∏–ª—å–Ω—ã–º** (¬±–∞–¥–∞–ø—Ç–µ—Ä—ã)
- –ë–æ–ª–µ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –ø–æ—Ç–æ–º–∫–∏
- –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã bloat

```typescript
public BreedByReplacement(donor: Genome): { genome: Genome, nodes: BaseNode[], isValid: boolean } | null {
    // 1. –ò–∑–≤–ª–µ—á—å –ø–æ–¥–≥—Ä–∞—Ñ –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –≥–µ–Ω–æ–º–∞ (–±—É–¥–µ—Ç –∑–∞–º–µ–Ω—ë–Ω)
    const replacedSubgenome = this._getRandomSubgenome();
    if (replacedSubgenome.length === 0) return null;
    
    // 2. –ò–∑–≤–ª–µ—á—å –ø–æ–¥–≥—Ä–∞—Ñ –∏–∑ –¥–æ–Ω–æ—Ä–∞ (–±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω –≤–º–µ—Å—Ç–æ)
    const donorSubgenome = donor.GetRandomSubgenome();
    if (donorSubgenome.length === 0) return null;
    
    // 3. –ù–∞–π—Ç–∏ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –∏ –≤—ã—Ö–æ–¥–∞ –∑–∞–º–µ–Ω—è–µ–º–æ–≥–æ –ø–æ–¥–≥—Ä–∞—Ñ–∞
    const entryNode = replacedSubgenome[0].previous[0]; // –£–∑–µ–ª –ø–µ—Ä–µ–¥ –∑–∞–º–µ–Ω—è–µ–º—ã–º
    const exitNode = replacedSubgenome[replacedSubgenome.length - 1].next[0]; // –£–∑–µ–ª –ø–æ—Å–ª–µ
    
    // 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ —Å–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä—ã
    const inputAdapter = this.createAdapter(
        entryNode.GetOutputShape(), 
        donorSubgenome[0].GetInputShape()
    );
    const outputAdapter = this.createAdapter(
        donorSubgenome[donorSubgenome.length - 1].GetOutputShape(),
        exitNode.GetInputShape()
    );
    
    // 5. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ, —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π –ø–æ–¥–≥—Ä–∞—Ñ, –≤—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π
    // ...
}
```

---

### 3.2 NEAT-style Crossover (–∞–ª–∏–≥–Ω–º–µ–Ω—Ç –ø–æ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–º –Ω–æ–º–µ—Ä–∞–º)

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *K. Stanley & R. Miikkulainen, "Evolving Neural Networks through Augmenting Topologies", ECJ 2002*

–ö–∞–∂–¥–æ–º—É —Ä–µ–±—Ä—É –∏ —É–∑–ª—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–π **innovation number**. –ü—Ä–∏ —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏–∏:

```mermaid
flowchart TB
    subgraph "–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –≥–µ–Ω–æ–≤"
        direction LR
        M["Matching genes<br/>(—Å–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä)"]
        D["Disjoint genes<br/>(–æ—Ç –ª—É—á—à–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è)"]
        E["Excess genes<br/>(–æ—Ç –ª—É—á—à–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è)"]
    end
```

| Gene | Parent A | Parent B | –ü–æ—Ç–æ–º–æ–∫ |
|------|----------|----------|---------|
| 1 | Conv 3√ó3 | Conv 5√ó5 | **–°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä** |
| 2 | Pool 2√ó2 | Pool 2√ó2 | **–°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä** |
| 3 | Dense 128 | ‚Äî | **–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ A –ª—É—á—à–µ** |
| 4 | ‚Äî | Conv 1√ó1 | **–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ B –ª—É—á—à–µ** |
| 5 | Dense 64 | Dense 256 | **–°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä** |

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–∞–∑–º–µ—Ä –ø–æ—Ç–æ–º–∫–∞ ‚â§ max(—Ä–∞–∑–º–µ—Ä A, —Ä–∞–∑–º–µ—Ä B)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏
- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç bloat

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç:**
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ innovation numbers
- –•—Ä–∞–Ω–µ–Ω–∏–µ innovation number –≤ –∫–∞–∂–¥–æ–º —É–∑–ª–µ –∏ —Ä–µ–±—Ä–µ
- Comparator –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –¥–≤—É—Ö –≥–µ–Ω–æ–º–æ–≤

```typescript
// –î–æ–±–∞–≤–∏—Ç—å –≤ BaseNode
public innovationNumber: number;
private static globalInnovation = 0;

constructor() {
    this.innovationNumber = BaseNode.globalInnovation++;
    // ...
}
```

---

### 3.3 Cell-Based Crossover (–∫–ª–µ—Ç–æ—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *B. Zoph et al., "Learning Transferable Architectures for Scalable Image Recognition" (NASNet), CVPR 2018; H. Liu et al., "DARTS: Differentiable Architecture Search", ICLR 2019*

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è **—è—á–µ–π–∫–∏** (cells). –°–∫—Ä–µ—â–∏–≤–∞–Ω–∏–µ –∏ –º—É—Ç–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ —è—á–µ–µ–∫.

```mermaid
flowchart LR
    Input --> NC1["Normal Cell 1"] --> RC1["Reduction Cell"] --> NC2["Normal Cell 2"] --> RC2["Reduction Cell"] --> NC3["Normal Cell 3"] --> Output
```

**–¢–∏–ø—ã —è—á–µ–µ–∫:**
- **Normal Cell** ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å (H√óW)
- **Reduction Cell** ‚Äî —É–º–µ–Ω—å—à–∞–µ—Ç —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –≤ 2 —Ä–∞–∑–∞ (stride=2)

**–°–∫—Ä–µ—â–∏–≤–∞–Ω–∏–µ:**
```
–†–æ–¥–∏—Ç–µ–ª—å A: [NC_a1] ‚Üí [RC_a] ‚Üí [NC_a2] ‚Üí [RC_a] ‚Üí [NC_a3]
–†–æ–¥–∏—Ç–µ–ª—å B: [NC_b1] ‚Üí [RC_b] ‚Üí [NC_b2] ‚Üí [RC_b] ‚Üí [NC_b3]
–ü–æ—Ç–æ–º–æ–∫:    [NC_a1] ‚Üí [RC_b] ‚Üí [NC_b2] ‚Üí [RC_a] ‚Üí [NC_a3]
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–∞–∑–º–µ—Ä —Å—Ç—Ä–æ–≥–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω (N —è—á–µ–µ–∫)
- –ö–∞–∂–¥–∞—è —è—á–µ–π–∫–∞ ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π DAG
- –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å: –±–æ–ª—å—à–µ —è—á–µ–µ–∫ = –≥–ª—É–±–∂–µ —Å–µ—Ç—å

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç:**
- –ö–ª–∞—Å—Å `Cell` –∫–∞–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–æ–¥–≥—Ä–∞—Ñ–∞
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤—Ö–æ–¥/–≤—ã—Ö–æ–¥ —è—á–µ–π–∫–∏
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π macro-skeleton (–ø–æ—Ä—è–¥–æ–∫ Normal/Reduction)

---

### 3.4 Multi-Point Crossover

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *E. Real et al., "Large-Scale Evolution of Image Classifiers", ICML 2017*

–í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–π —Ç–æ—á–∫–∏ –≤—Å—Ç–∞–≤–∫–∏ ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ:

```mermaid
flowchart LR
    subgraph "–†–æ–¥–∏—Ç–µ–ª—å A"
        A1 --> A2 --> A3 --> A4 --> A5
    end
    subgraph "–†–æ–¥–∏—Ç–µ–ª—å B"
        B1 --> B2 --> B3 --> B4 --> B5
    end
    subgraph "–ü–æ—Ç–æ–º–æ–∫ (2 —Ç–æ—á–∫–∏)"
        C1["A1"] --> C2["B2"] --> C3["B3"] --> C4["A4"] --> C5["A5"]
    end
```

–ö–∞–∂–¥—ã–π —Å–µ–≥–º–µ–Ω—Ç –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ —Ä–∞–∑—Ä–µ–∑–∞ —Å–ª—É—á–∞–π–Ω–æ –±–µ—Ä—ë—Ç—Å—è –æ—Ç –æ–¥–Ω–æ–≥–æ –∏–∑ –¥–≤—É—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π.

---

## 4. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –º—É—Ç–∞—Ü–∏–∏ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ `Mutate`)

### 4.1 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É–∑–ª–∞ (Node Insertion)

–†–∞–∑—Ä–µ–∑–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ —Ä–µ–±—Ä–æ –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å–ª—É—á–∞–π–Ω—ã–π —É–∑–µ–ª:

```
–î–æ:   A ‚Üí B
–ü–æ—Å–ª–µ: A ‚Üí NewConv ‚Üí B
```

### 4.2 –£–¥–∞–ª–µ–Ω–∏–µ —É–∑–ª–∞ (Node Removal)

–£–¥–∞–ª–∏—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –ª–∏–Ω–µ–π–Ω—ã–π —É–∑–µ–ª –∏ –∑–∞–º–∫–Ω—É—Ç—å —Ä–µ–±—Ä–æ:

```
–î–æ:   A ‚Üí X ‚Üí B
–ü–æ—Å–ª–µ: A ‚Üí (adapter?) ‚Üí B
```

### 4.3 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Skip-Connection

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *K. He et al., "Deep Residual Learning for Image Recognition" (ResNet), CVPR 2016*

–í—ã–±—Ä–∞—Ç—å –¥–≤–∞ —É–∑–ª–∞ —Å —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ —Ñ–æ—Ä–º–∞–º–∏ –∏ –¥–æ–±–∞–≤–∏—Ç—å residual connection —á–µ—Ä–µ–∑ `AddNode`:

```
–î–æ:   A ‚Üí B ‚Üí C
–ü–æ—Å–ª–µ: A ‚Üí B ‚Üí C
       A -------‚Üí Add ‚Üí D
                   ‚Üë
                   C ----‚îò
```

### 4.4 –ó–∞–º–µ–Ω–∞ —Ç–∏–ø–∞ —É–∑–ª–∞

–ó–∞–º–µ–Ω–∏—Ç—å —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ —É–∑–ª–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:
- `Conv 3√ó3 ‚Üí Conv 5√ó5`
- `MaxPool ‚Üí AvgPool`
- `Dense 128 ‚Üí Dense 256`
- `Conv ‚Üí DepthwiseSeparableConv` (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)

### 4.5 –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–∞–∫—Ä–æ-—Ç–æ–ø–æ–ª–æ–≥–∏–∏

–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∏–ø–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –º–µ–∂–¥—É –≤–µ—Ç–≤—è–º–∏:
- `Add ‚Üí Concat` (–∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –≤–µ—Ç–≤–∏

---

## 5. Speciation (–≤–∏–¥–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ)

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *K. Stanley & R. Miikkulainen, NEAT, 2002*

–ü—Ä–æ–±–ª–µ–º–∞: –±–µ–∑ –≤–∏–¥–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã–µ —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∫–æ–Ω–∫—É—Ä–∏—Ä—É—é—Ç —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ—Å—Ç—ã–º–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞–º–∏ –∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—é—Ç, –Ω–µ —É—Å–ø–µ–≤ —Ä–∞—Å–∫—Ä—ã—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª.

**–†–µ—à–µ–Ω–∏–µ:** –†–∞–∑–¥–µ–ª–∏—Ç—å –ø–æ–ø—É–ª—è—Ü–∏—é –Ω–∞ **–≤–∏–¥—ã** (species) –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–º—É —Å—Ö–æ–¥—Å—Ç–≤—É –∏ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—é **–≤–Ω—É—Ç—Ä–∏** –≤–∏–¥–æ–≤.

### –ú–µ—Ç—Ä–∏–∫–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É –≥–µ–Ω–æ–º–∞–º–∏

```
Œ¥ = (c1 √ó E)/N + (c2 √ó D)/N + c3 √ó WÃÑ
```

–ì–¥–µ:
- `E` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ excess genes (—Ç–æ–ª—å–∫–æ –≤ NEAT-style)
- `D` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ disjoint genes
- `WÃÑ` ‚Äî —Å—Ä–µ–¥–Ω–µ–µ —Ä–∞–∑–ª–∏—á–∏–µ –≤–µ—Å–æ–≤/–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ matching genes
- `N` ‚Äî —Ä–∞–∑–º–µ—Ä –±–æ–ª—å—à–µ–≥–æ –≥–µ–Ω–æ–º–∞
- `c1, c2, c3` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã

**–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –¥–ª—è –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã (–±–µ–∑ innovation numbers):**

```typescript
function genomeDistance(a: Genome, b: Genome): number {
    const nodesA = getAllNodes(a);
    const nodesB = getAllNodes(b);
    
    // –†–∞–∑–ª–∏—á–∏–µ –≤ —Ä–∞–∑–º–µ—Ä–µ
    const sizeDiff = Math.abs(nodesA.length - nodesB.length);
    
    // –†–∞–∑–ª–∏—á–∏–µ –≤ —Ç–∏–ø–∞—Ö —É–∑–ª–æ–≤
    const typesA = nodesA.map(n => n.GetNodeType()).sort();
    const typesB = nodesB.map(n => n.GetNodeType()).sort();
    const typeOverlap = countCommonElements(typesA, typesB);
    const typeDiff = Math.max(typesA.length, typesB.length) - typeOverlap;
    
    // –†–∞–∑–ª–∏—á–∏–µ –≤ –≥–ª—É–±–∏–Ω–µ –≥—Ä–∞—Ñ–∞
    const depthA = getMaxDepth(a);
    const depthB = getMaxDepth(b);
    const depthDiff = Math.abs(depthA - depthB);
    
    return c1 * sizeDiff + c2 * typeDiff + c3 * depthDiff;
}
```

---

## 6. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–µ—Ç–æ–¥—ã

### 6.1 Tournament Selection —Å Aging

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *E. Real et al., "Regularized Evolution", 2019*

–í–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è —Ö—É–¥—à–∏—Ö ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ **—Å—Ç–∞—Ä–µ–π—à–∏—Ö** –≥–µ–Ω–æ–º–æ–≤ –∏–∑ –ø–æ–ø—É–ª—è—Ü–∏–∏. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑–∞—Å—Ç—Ä–µ–≤–∞–Ω–∏–µ –≤ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–ø—Ç–∏–º—É–º–∞—Ö.

```typescript
// –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–º–∫–∞
population.push({ genome: child, age: 0, fitness: evaluatedFitness });

// –ü—Ä–∏ –æ—Ç–±–æ—Ä–µ: —É–¥–∞–ª—è–µ–º —Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π –∏–∑ —Å–ª—É—á–∞–π–Ω–æ–π –≤—ã–±–æ—Ä–∫–∏
const sample = randomSample(population, tournamentSize);
const oldest = sample.reduce((a, b) => a.age > b.age ? a : b);
population.remove(oldest);
```

### 6.2 Weight Inheritance (–õ–∞–º–∞—Ä–∫–∏–∞–Ω—Å–∫–∞—è —ç–≤–æ–ª—é—Ü–∏—è)

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *T. Elsken et al., "Efficient Multi-Objective NAS via Lamarckian Evolution", ICLR 2019*

–ü—Ä–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —É–∑–ª–æ–≤ ‚Äî –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –æ–±—É—á–µ–Ω–Ω—ã–µ –≤–µ—Å–∞. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –æ–±—É—á–µ–Ω–∏–µ –ø–æ—Ç–æ–º–∫–æ–≤.

### 6.3 Progressive Growing

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** *C. Liu et al., "Progressive Neural Architecture Search", ECCV 2018*

–ù–∞—á–∏–Ω–∞—Ç—å —Å –ø—Ä–æ—Å—Ç—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä (1‚Äì2 —Å–ª–æ—è) –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å:

```
Generation  1-10:  max 5  —É–∑–ª–æ–≤
Generation 11-20:  max 10 —É–∑–ª–æ–≤
Generation 21-30:  max 15 —É–∑–ª–æ–≤
...
```

---

## 7. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

| –§–∞–∑–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|------|-----------|-----------|-----------|
| **–§–∞–∑–∞ 1** | –ñ—ë—Å—Ç–∫–∏–π –ª–∏–º–∏—Ç `MAX_NODES` –≤ `Breed()` | üî¥ | –ù–∏–∑–∫–∞—è |
| **–§–∞–∑–∞ 1** | –ú—É—Ç–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —É–∑–ª–∞ (`MutateRemoveNode`) | üî¥ | –°—Ä–µ–¥–Ω—è—è |
| **–§–∞–∑–∞ 1** | Parsimony pressure –≤ fitness | üî¥ | –ù–∏–∑–∫–∞—è |
| **–§–∞–∑–∞ 2** | Subgraph Replacement crossover | üü° | –°—Ä–µ–¥–Ω—è—è |
| **–§–∞–∑–∞ 2** | Resource-aware multi-objective fitness | üü° | –°—Ä–µ–¥–Ω—è—è |
| **–§–∞–∑–∞ 2** | –ú—É—Ç–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è skip-connection | üü° | –°—Ä–µ–¥–Ω—è—è |
| **–§–∞–∑–∞ 3** | NEAT-style innovation numbers + crossover | üü¢ | –í—ã—Å–æ–∫–∞—è |
| **–§–∞–∑–∞ 3** | Speciation (–≤–∏–¥–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ) | üü¢ | –í—ã—Å–æ–∫–∞—è |
| **–§–∞–∑–∞ 3** | Cell-Based –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | üü¢ | –í—ã—Å–æ–∫–∞—è |
| **–§–∞–∑–∞ 4** | Weight Inheritance | üü¢ | –°—Ä–µ–¥–Ω—è—è |
| **–§–∞–∑–∞ 4** | Progressive Growing | üü¢ | –ù–∏–∑–∫–∞—è |
| **–§–∞–∑–∞ 4** | Tournament Selection —Å Aging | üü¢ | –ù–∏–∑–∫–∞—è |

---

## 8. –°—Å—ã–ª–∫–∏

1. **NEAT:** K. Stanley & R. Miikkulainen, *"Evolving Neural Networks through Augmenting Topologies"*, Evolutionary Computation, 2002
2. **AmoebaNet:** E. Real et al., *"Regularized Evolution for Image Classifier Architecture Search"*, AAAI, 2019
3. **Large-Scale Evolution:** E. Real et al., *"Large-Scale Evolution of Image Classifiers"*, ICML, 2017
4. **Genetic CNN:** L. Xie & A. Yuille, *"Genetic CNN"*, ICCV, 2017
5. **NASNet:** B. Zoph et al., *"Learning Transferable Architectures for Scalable Image Recognition"*, CVPR, 2018
6. **DARTS:** H. Liu et al., *"DARTS: Differentiable Architecture Search"*, ICLR, 2019
7. **Lamarckian NAS:** T. Elsken et al., *"Efficient Multi-Objective NAS via Lamarckian Evolution"*, ICLR, 2019
8. **Progressive NAS:** C. Liu et al., *"Progressive Neural Architecture Search"*, ECCV, 2018
9. **ResNet:** K. He et al., *"Deep Residual Learning for Image Recognition"*, CVPR, 2016

---

## 9. –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: ¬´–ú–µ–Ω–µ–¥–∂–µ—Ä —ç–≤–æ–ª—é—Ü–∏–∏¬ª (Evolution Manager)

–ü–æ—Å–∫–æ–ª—å–∫—É `Network-Canvas` –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ –ø–µ—Å–æ—á–Ω–∏—Ü—ã –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏–µ–º –∏ –º—É—Ç–∞—Ü–∏—è–º–∏ –Ω–∞ –ª–µ—Ç—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ `SidePanel`, –∫–æ–≥–¥–∞ –∞–∫—Ç–∏–≤–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `menuType === "Genome"`.
**–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å:** –ü–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ NAS (Neural Architecture Search), –≤–∏–∑—É–∞–ª—å–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Ö –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –≥—Ä–∞—Ñ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å *bloat* (—Ä–∞–∑–¥—É–≤–∞–Ω–∏–µ –≥—Ä–∞—Ñ–æ–≤).

### 9.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (UI Layout)

#### –†–∞–∑–¥–µ–ª 1. –ú–µ—Ç–æ–¥—ã —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏—è (Crossover Strategies)
*–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ–∫–±–æ–∫—Å–æ–≤. –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ, —Å–∏—Å—Ç–µ–º–∞ —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≤—ã–±–∏—Ä–∞–µ—Ç –º–µ—Ç–æ–¥ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ `Breed()`.*
- [x] **Subgraph Insertion** (–í—Å—Ç–∞–≤–∫–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–æ–¥–≥—Ä–∞—Ñ–∞ ‚Äî *—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è*)
- [ ] **Subgraph Replacement** (–ó–∞–º–µ–Ω–∞ –ø–æ–¥–≥—Ä–∞—Ñ–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞/—Ç–∏–ø–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞)
- [ ] **NEAT-style Crossover** (–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —É–∑–ª–æ–≤ –ø–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –º–∞—Ä–∫–µ—Ä–∞–º)
- [ ] **Multi-point Crossover** (–û–±–º–µ–Ω –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ–≥–º–µ–Ω—Ç–∞–º–∏)

#### –†–∞–∑–¥–µ–ª 2. –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –º—É—Ç–∞—Ü–∏–π (Mutation Strategies)
*–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏ –º—É—Ç–∞—Ü–∏–π —Å –ø–æ–º–æ—â—å—é –ø–æ–ª–∑—É–Ω–∫–æ–≤ (–æ—Ç 0% –¥–æ 100%).*
- **Params Mutation**: `[======----]` 60% *(–£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –Ω–æ–¥)*
- **Add Node**: `[==--------]` 20% *(–†–∞–∑—Ä–µ–∑–∞–Ω–∏–µ —Ä–µ–±—Ä–∞ –∏ –≤—Å—Ç–∞–≤–∫–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–ª–æ—è)*
- **Remove Node**: `[=---------]` 10% *(–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ —Å–ª–æ—è —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º –µ–≥–æ —Å–æ—Å–µ–¥–µ–π)*
- **Add Skip-Connection**: `[===-------]` 30% *(–í–Ω–µ–¥—Ä–µ–Ω–∏–µ AddNode –¥–ª—è –æ–±—Ö–æ–¥–Ω—ã—Ö —Å–≤—è–∑–µ–π)*
- **Change Layer Type**: `[=---------]` 10% *(–ó–∞–º–µ–Ω–∞ —Ç–∏–ø–∞ –ª–æ–≥–∏–∫–∏ –Ω–æ–¥—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ø–æ–ª–æ–≥–∏–∏)*

#### –†–∞–∑–¥–µ–ª 3. –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–∑–º–µ—Ä–∞ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (Bloat Control)
*–ú–æ–¥—É–ª—å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Å–¥–µ—Ä–∂–∏–≤–∞–Ω–∏—è —Ä–∞–∑—Ä–∞—Å—Ç–∞–Ω–∏—è —Å–µ—Ç–∏.*
- **Global Node Limit (MAX_NODES)**: `[ Toggle ]` -> –ü–æ–ª–µ –≤–≤–æ–¥–∞: `30`
- **Parsimony Pressure**: `[ Toggle ]` 
  - *–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç (Œ±)*: `Slider [0.001 - 0.1]` (–®—Ç—Ä–∞—Ñ –∑–∞ –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ —É–∑–ª—ã)
- **Resource-Aware Fitness**: `[ Toggle ]` (–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –¥–æ—Å—Ç—É–ø–Ω–æ–π Flash/RAM, –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ `GetResources()`)

#### –†–∞–∑–¥–µ–ª 4. –î–µ–π—Å—Ç–≤–∏—è (Actions Playaround)
*–ü–∞–Ω–µ–ª—å —Ä—É—á–Ω–æ–≥–æ —Ç—Ä–∏–≥–≥–µ—Ä–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –Ω–∞ —Ö–æ–ª—Å—Ç–µ.*
* **–ö–Ω–æ–ø–∫–∞ [Mutate Current]** ‚Äî –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –º—É—Ç–∞—Ü–∏–π –∫ —Ç–µ–∫—É—â–µ–º—É –≥—Ä–∞—Ñ—É –Ω–∞ —Ö–æ–ª—Å—Ç–µ.
* **–ö–Ω–æ–ø–∫–∞ [Breed with Random/Selected]** ‚Äî –ë–µ—Ä—ë—Ç —Ç–µ–∫—É—â–∏–π –≥—Ä–∞—Ñ –∏ —Å–∫—Ä–µ—â–∏–≤–∞–µ—Ç –µ–≥–æ —Å –¥—Ä—É–≥–∏–º –≥–µ–Ω–æ–º–æ–º, –ø—Ä–∏–º–µ–Ω—è—è –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∏–∑ –†–∞–∑–¥–µ–ª–∞ 1 –∏ —Ñ–∏–ª—å—Ç—Ä—ã –∏–∑ –†–∞–∑–¥–µ–ª–∞ 3. –†–µ–∑—É–ª—å—Ç–∞—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ `Network-Canvas`.
* **–ë–ª–æ–∫ –ú–µ—Ç—Ä–∏–∫** ‚Äî –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é "–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏" –ø–æ–¥ –∫–Ω–æ–ø–∫–∞–º–∏: *Total Nodes: X*, *Estimated Resources: Y kb*, *Penalty Score: Z*.

### 9.2 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å React/Zustand

1. **–ì–ª–æ–±–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç (Zustand)**: –†–∞—Å—à–∏—Ä–∏—Ç—å `useCanvasGenomeStore` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π `useEvolutionSettingsStore` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–µ–π—Ç–∞ –ø–æ–ª–∑—É–Ω–∫–æ–≤ –∏ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ (`selectedCrossovers: string[]`, `mutationProbabilities: Record<string, number>`, –∏ —Ç–¥.).
2. **SidePanel Rendering**: –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ø—É—Å—Ç–æ–π —Ö–æ–ª—Å—Ç (–∏–ª–∏ –ø–æ –∫–Ω–æ–ø–∫–µ –≤ —Ç—É–ª–±–∞—Ä–µ), `menuType` –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ `Genome`, –∏ `SidePanel` —Ä–µ–Ω–¥–µ—Ä–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `<EvolutionManager />`.
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –Ω–∞ Canvas**: –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–æ–∫ —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏—è/–º—É—Ç–∞—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —ç–∫—à–µ–Ω—ã Zustand `mutateGraph(settings)` –∏–ª–∏ `breedGraph(targetGenome, settings)`. Canvas –¥–æ–ª–∂–µ–Ω –ø–ª–∞–≤–Ω–æ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –Ω–æ–≤—ã–µ —É–∑–ª—ã –∏ —Å–≤—è–∑–∏ (–≤–æ–∑–º–æ–∂–Ω–æ, —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –Ω–æ–≤—ã—Ö —É–∑–ª–æ–≤ –¥—Ä—É–≥–∏–º —Ü–≤–µ—Ç–æ–º –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏).
